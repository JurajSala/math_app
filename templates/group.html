{% extends "base.html" %}
{% block title %}Generátor grup{% endblock %}
{% if error %}
  <div class="alert alert-danger">{{ error }}</div>
{% endif %}
{% block content %}
<div class="container bg-dark text-white mt-5 p-4 rounded">
  <h1 class="text-white mb-4">Generátor konečných grup</h1>
  <form method="get" action="{{ url_for('group_view') }}" class="mb-5">
    <div class="mb-3">
      <label class="form-label text-white">Generátory (oddělené čárkou)</label>
      <input type="text" name="generators" class="form-control bg-secondary text-white border-secondary" value="{{ generators|join(', ') }}">
    </div>
    <div class="mb-3">
      <label class="form-label text-white">Relace (oddělené středníkem, např. a b = b a; a^2 = e)</label>
      <textarea name="relations" class="form-control bg-secondary text-white border-secondary" rows="3">{{ relations|join('; ') }}</textarea>
    </div>
    <button type="submit" class="btn btn-light">Vygenerovat grupu</button>
  </form>

  {% if elements %}
  <h2 class="text-white mb-3">Prvky grupy ({{ elements|length }})</h2>
  <ul class="list-group list-group-flush mb-5">
    {% for e in elements %}
    <li class="list-group-item bg-dark text-white border-secondary">{{ e }}</li>
    {% endfor %}
  </ul>

  <h2 class="text-white mb-3">Grupová tabulka</h2>
  <div class="table-responsive">
    <table class="table table-dark table-bordered text-white text-center">
      <thead>
        <tr>
          <th>&times;</th>
          {% for e2 in elements %}<th>{{ e2 }}</th>{% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for e1 in elements %}
        <tr>
          <th class="bg-secondary text-white">{{ e1 }}</th>
          {% for e2 in elements %}
          <td>{{ table[e1][e2] }}</td>
          {% endfor %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% endif %}
</div>
{% endblock %}
